CREATE TABLE caracteristicastecnicasequipos (caracteristicastecnicasequipos_id INT UNSIGNED AUTO_INCREMENT, caracteristicastecnicasequipos_version INT UNSIGNED DEFAULT '0' NOT NULL, caracteristicastecnicasequipos_descripcion1 VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_descripcion2 VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_descripcion3 VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_descripcion4 VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_descripcion5 VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_descripcion6 VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_tensionnominal VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_frecuencia VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_potenciamaxima VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_corrientemaxima VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_carga VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_presion VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_capacidadfrio VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_potencianominalfrio VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_corrientenominalfrio VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_peso VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_capacidadcalor VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_potencianominalcalor VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_corrientenominalcalor VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_err VARCHAR(100) DEFAULT '"' NOT NULL, caracteristicastecnicasequipos_esidu TINYINT UNSIGNED DEFAULT '0' NOT NULL, caracteristicastecnicasequipos_nombre VARCHAR(100) NOT NULL, caracteristicastecnicasequipos_idparametros INT UNSIGNED NOT NULL, caracteristicastecnicasequipos_idparametros_idu INT UNSIGNED, caracteristicastecnicasequipos_idparametros_odu INT UNSIGNED, es_activo INT DEFAULT '0' NOT NULL, id INT UNSIGNED DEFAULT '0' NOT NULL, INDEX caracteristicastecnicasequipos_idparametros_idu_idx (caracteristicastecnicasequipos_idparametros_idu), INDEX caracteristicastecnicasequipos_idparametros_odu_idx (caracteristicastecnicasequipos_idparametros_odu), PRIMARY KEY(caracteristicastecnicasequipos_id)) ENGINE = INNODB;
CREATE TABLE componentesetiquetas (componentesetiquetas_id INT UNSIGNED AUTO_INCREMENT, componentesetiquetas_font VARCHAR(32) DEFAULT 'ARIAL' NOT NULL, componentesetiquetas_size FLOAT(18, 2) DEFAULT 12 NOT NULL, componentesetiquetas_bold TINYINT UNSIGNED DEFAULT '0' NOT NULL, componentesetiquetas_italic TINYINT UNSIGNED DEFAULT '0' NOT NULL, componentesetiquetas_yinicial FLOAT(18, 2) DEFAULT 0 NOT NULL, componentesetiquetas_xinicial FLOAT(18, 2) DEFAULT 0 NOT NULL, componentesetiquetas_yfinal FLOAT(18, 2) DEFAULT 0 NOT NULL, componentesetiquetas_variable TINYINT UNSIGNED DEFAULT '0' NOT NULL, componentesetiquetas_tipo SMALLINT UNSIGNED DEFAULT '0' NOT NULL, componentesetiquetas_alignh SMALLINT UNSIGNED DEFAULT '0' NOT NULL, componentesetiquetas_alignv SMALLINT UNSIGNED DEFAULT '0' NOT NULL, componentesetiquetas_xfinal FLOAT(18, 2) DEFAULT 0 NOT NULL, componentesetiquetas_param VARCHAR(100) NOT NULL, componentesetiquetas_numeroetiqueta INT UNSIGNED NOT NULL, PRIMARY KEY(componentesetiquetas_id)) ENGINE = INNODB;
CREATE TABLE ensayo_alto_potencial (id INT UNSIGNED AUTO_INCREMENT, nro_serie VARCHAR(255) NOT NULL, orden_fabricacion VARCHAR(255), fecha DATETIME DEFAULT '0000-00-00 00:00:00' NOT NULL, resultado INT UNSIGNED NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ensayo_falla_controlada (id INT UNSIGNED AUTO_INCREMENT, ensayo_nro_serie VARCHAR(255) NOT NULL, fecha DATETIME NOT NULL, falla_controlada_id INT UNSIGNED NOT NULL, usuario_id BIGINT NOT NULL, linea VARCHAR(255) NOT NULL, dcf VARCHAR(255) NOT NULL, INDEX falla_controlada_id_idx (falla_controlada_id), INDEX usuario_id_idx (usuario_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ensayosrealizadosidu (ensayosrealizadosidu_id INT UNSIGNED AUTO_INCREMENT, ensayosrealizadosidu_marca VARCHAR(100) DEFAULT '"' NOT NULL, ensayosrealizadosidu_modelo VARCHAR(100) DEFAULT '"' NOT NULL, ensayosrealizadosidu_codigo VARCHAR(100) DEFAULT '"' NOT NULL, ensayosrealizadosidu_serie VARCHAR(100), ensayosrealizadosidu_fecha DATETIME DEFAULT '0000-00-00 00:00:00' NOT NULL, ensayosrealizadosidu_aprobado TINYINT DEFAULT '0' NOT NULL, ensayosrealizadosidu_dcf VARCHAR(10) DEFAULT '"' NOT NULL, ensayosrealizadosidu_tiempoensayo INT UNSIGNED DEFAULT '0' NOT NULL, ensayosrealizadosidu_velocidadinicial FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosidu_velocidadbajatension FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosidu_velocidadlow FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosidu_velocidadhigh FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosidu_corrienteinicial FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosidu_corrientebajatension FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosidu_corrientelow FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosidu_corrientehigh FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosidu_corrientecalorinicial FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosidu_hipot VARCHAR(100) DEFAULT '"' NOT NULL, ensayosrealizadosidu_fuga VARCHAR(100) DEFAULT '"' NOT NULL, ensayosrealizadosidu_observaciones VARCHAR(100) DEFAULT '"' NOT NULL, ensayosrealizadosidu_cantidadreimpresion INT UNSIGNED DEFAULT '0' NOT NULL, ensayosrealizadosidu_usuario VARCHAR(45) NOT NULL, orden_fabricacion VARCHAR(255) DEFAULT 'N/D', PRIMARY KEY(ensayosrealizadosidu_id)) ENGINE = INNODB;
CREATE TABLE ensayosrealizadosodu (ensayosrealizadosodu_id INT UNSIGNED AUTO_INCREMENT, ensayosrealizadosodu_marca VARCHAR(100) DEFAULT '"' NOT NULL, ensayosrealizadosodu_modelo VARCHAR(100) DEFAULT '"' NOT NULL, ensayosrealizadosodu_codigo VARCHAR(100) DEFAULT '"' NOT NULL, ensayosrealizadosodu_serie VARCHAR(100) DEFAULT '"' NOT NULL, ensayosrealizadosodu_fecha DATETIME DEFAULT '0000-00-00 00:00:00' NOT NULL, ensayosrealizadosodu_aprobado TINYINT UNSIGNED DEFAULT '0' NOT NULL, ensayosrealizadosodu_dcf VARCHAR(10) DEFAULT '"' NOT NULL, ensayosrealizadosodu_diferenciadetemperatura FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_temperaturaambiente FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_humedad FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_tensionalta FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_tensionbaja FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_corrientealta FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_corrientebaja FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_potenciaalta FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_factordepotencia FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_velocidadalta FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_velocidadbaja FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_presioninicial FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_presionbajatension FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_presionensayo FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_presionrecuperacion FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_flags FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_tensionaltacalor FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_corrientealtacalor FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_factordepotenciacalor FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_potenciaaltacalor FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_velocidadaltacalor FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_temperaturaaltacalor FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_temperaturaambientecalor FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_humedadcalor FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_presionbajatensioncalor FLOAT(18, 2) DEFAULT 0 NOT NULL, ensayosrealizadosodu_vacio VARCHAR(100) NOT NULL, ensayosrealizadosodu_hipot VARCHAR(100) NOT NULL, ensayosrealizadosodu_fuga VARCHAR(100) NOT NULL, ensayosrealizadosodu_observaciones VARCHAR(100) NOT NULL, ensayosrealizadosodu_tiempoensayo INT UNSIGNED NOT NULL, ensayosrealizadosodu_cantidadreimpresion INT UNSIGNED DEFAULT '0' NOT NULL, ensayosrealizadosodu_usuario VARCHAR(45) NOT NULL, orden_fabricacion VARCHAR(255) DEFAULT 'N/D', PRIMARY KEY(ensayosrealizadosodu_id)) ENGINE = INNODB;
CREATE TABLE etiquetas (etiquetas_id INT UNSIGNED AUTO_INCREMENT, etiquetas_nombre VARCHAR(64) NOT NULL, etiquetas_esidu TINYINT DEFAULT '0' NOT NULL, es_activa INT DEFAULT '1' NOT NULL, es_bulto INT DEFAULT '1' NOT NULL, PRIMARY KEY(etiquetas_id)) ENGINE = INNODB;
CREATE TABLE falla_controlada (id INT UNSIGNED AUTO_INCREMENT, descripcion VARCHAR(255) NOT NULL, es_idu SMALLINT NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE fallasidu (numerodefalla INT UNSIGNED, descripcion VARCHAR(100) NOT NULL, prioridadalta TINYINT DEFAULT '0' NOT NULL, es_falla_controlada TINYINT UNSIGNED DEFAULT '0' NOT NULL, PRIMARY KEY(numerodefalla)) ENGINE = INNODB;
CREATE TABLE fallasodu (numerodefalla INT UNSIGNED, descripcion VARCHAR(100) NOT NULL, prioridadalta TINYINT DEFAULT '0' NOT NULL, es_falla_controlada TINYINT UNSIGNED DEFAULT '0' NOT NULL, PRIMARY KEY(numerodefalla)) ENGINE = INNODB;
CREATE TABLE infoensayosreset (id INT AUTO_INCREMENT, fecha DATETIME NOT NULL, numeroensayosok INT NOT NULL, usuario VARCHAR(20) DEFAULT 'USER' NOT NULL, pc VARCHAR(100) DEFAULT '"PC"' NOT NULL, esidu BIT DEFAULT  NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE log_idu_odu (id INT UNSIGNED AUTO_INCREMENT, date DATETIME NOT NULL, thread VARCHAR(32) NOT NULL, context TEXT NOT NULL, level TEXT NOT NULL, logger TEXT NOT NULL, message TEXT NOT NULL, exception TEXT, dcf VARCHAR(255) NOT NULL, username VARCHAR(255) NOT NULL, line VARCHAR(255) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE modelos (modelos_id INT UNSIGNED AUTO_INCREMENT, modelos_marca VARCHAR(30) DEFAULT '"' NOT NULL, modelos_modelo VARCHAR(100) DEFAULT '"' NOT NULL, modelos_codigo VARCHAR(100) DEFAULT '"' NOT NULL, modelos_referencia VARCHAR(100) DEFAULT '"' NOT NULL, modelos_ean13 VARCHAR(100) DEFAULT '"' NOT NULL, modelos_etiqueta INT UNSIGNED DEFAULT '0' NOT NULL, modelos_etiquetacaja INT UNSIGNED DEFAULT '0' NOT NULL, modelos_logo VARCHAR(100) DEFAULT '"' NOT NULL, modelos_conjunto VARCHAR(100) DEFAULT '"' NOT NULL, modelos_capacidad VARCHAR(100) DEFAULT '"' NOT NULL, modelos_codigoicsa VARCHAR(100) DEFAULT '"' NOT NULL, modelos_descripcion VARCHAR(100) DEFAULT '"' NOT NULL, modelos_dimensiones VARCHAR(100) DEFAULT '"' NOT NULL, modelos_esidu TINYINT DEFAULT '1' NOT NULL, es_activo INT DEFAULT '1' NOT NULL, background_bulto VARCHAR(45) NOT NULL, background_producto VARCHAR(45) NOT NULL, INDEX modelos_referencia_idx (modelos_referencia), PRIMARY KEY(modelos_id)) ENGINE = INNODB;
CREATE TABLE parametrosensayosidu (parametrosensayosidu_id INT UNSIGNED AUTO_INCREMENT, parametrosensayosidu_referencia VARCHAR(100) DEFAULT '"' NOT NULL, parametrosensayosidu_descripcion VARCHAR(100) DEFAULT '"' NOT NULL, parametrosensayosidu_dcfs INT DEFAULT '0' NOT NULL, parametrosensayosidu_modificado DATETIME NOT NULL, parametrosensayosidu_retardostopinicial INT DEFAULT '0' NOT NULL, parametrosensayosidu_retardostartmitad INT DEFAULT '0' NOT NULL, parametrosensayosidu_timeoutcalor INT DEFAULT '0' NOT NULL, parametrosensayosidu_timeoutfrio INT DEFAULT '0' NOT NULL, parametrosensayosidu_retardostart2bajatension INT DEFAULT '0' NOT NULL, parametrosensayosidu_tiempomodovelocidadbaja INT DEFAULT '0' NOT NULL, parametrosensayosidu_tiempomodovelocidadalta INT DEFAULT '0' NOT NULL, parametrosensayosidu_retardodesenergizado INT DEFAULT '0' NOT NULL, parametrosensayosidu_final INT DEFAULT '0' NOT NULL, parametrosensayosidu_temperatura INT DEFAULT '0' NOT NULL, parametrosensayosidu_velocidadbajatensionmin INT DEFAULT '0' NOT NULL, parametrosensayosidu_velocidadbajatensionmax INT DEFAULT '0' NOT NULL, parametrosensayosidu_corrientebajatensionmin INT DEFAULT '0' NOT NULL, parametrosensayosidu_corrientebajatensionmax INT DEFAULT '0' NOT NULL, parametrosensayosidu_velocidadminmodovelbaja INT DEFAULT '0' NOT NULL, parametrosensayosidu_velocidadmaxmodovelbaja INT DEFAULT '0' NOT NULL, parametrosensayosidu_corrienteminmodovelbaja INT DEFAULT '0' NOT NULL, parametrosensayosidu_corrientemaxmodovelbaja INT DEFAULT '0' NOT NULL, parametrosensayosidu_velocidadminmodovelalta INT DEFAULT '0' NOT NULL, parametrosensayosidu_velocidadmaxmodovelalta INT DEFAULT '0' NOT NULL, parametrosensayosidu_corrienteminmodovelalta INT DEFAULT '0' NOT NULL, parametrosensayosidu_corrientemaxmodovelalta INT DEFAULT '0' NOT NULL, parametrosensayosidu_timeoutbajatension INT NOT NULL, parametrosensayosidu_idversion INT UNSIGNED NOT NULL, es_activo INT DEFAULT '0' NOT NULL, INDEX parametrosensayosidu_idversion_idx (parametrosensayosidu_idversion), PRIMARY KEY(parametrosensayosidu_id)) ENGINE = INNODB;
CREATE TABLE parametrosensayosodu (parametrosensayosodu_id INT UNSIGNED AUTO_INCREMENT, parametrosensayosodu_ref VARCHAR(100) DEFAULT '"' NOT NULL, parametrosensayosodu_descripcion VARCHAR(100) DEFAULT '"' NOT NULL, parametrosensayosodu_modificado DATETIME NOT NULL, parametrosensayosodu_dcfs INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempoinicialestabilizacion INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempomaximoestabilizacion INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempobajatension INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempomaximobajatension INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempomedicioncalor INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempomaximomedicioncalor INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempomedicionfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiemporecuperacionminima INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempomaximorecuperacionminima INT DEFAULT '0' NOT NULL, parametrosensayosodu_delayarranquecompresor INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempoapagadoentrecaloryfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempocierrevalvula1 INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempocierrevalvula2 INT DEFAULT '0' NOT NULL, parametrosensayosodu_tiempofinal INT DEFAULT '0' NOT NULL, parametrosensayosodu_presioninicialmin INT DEFAULT '0' NOT NULL, parametrosensayosodu_presioninicialmax INT DEFAULT '0' NOT NULL, parametrosensayosodu_deltapresionestabilizacionmin INT DEFAULT '0' NOT NULL, parametrosensayosodu_deltapresionestabilizacionmax INT DEFAULT '0' NOT NULL, parametrosensayosodu_velocidadminbajatension INT DEFAULT '0' NOT NULL, parametrosensayosodu_deltapresionbajatensionmin INT DEFAULT '0' NOT NULL, parametrosensayosodu_deltapresionbajatensionmax INT DEFAULT '0' NOT NULL, parametrosensayosodu_deltatempmincalor INT DEFAULT '0' NOT NULL, parametrosensayosodu_deltatempmaxcalor INT DEFAULT '0' NOT NULL, parametrosensayosodu_corrientemincalor INT DEFAULT '0' NOT NULL, parametrosensayosodu_corrientemaxcalor INT DEFAULT '0' NOT NULL, parametrosensayosodu_potenciamincalor INT DEFAULT '0' NOT NULL, parametrosensayosodu_potenciamaxcalor INT DEFAULT '0' NOT NULL, parametrosensayosodu_velocidadmaxventiladorcalor INT DEFAULT '0' NOT NULL, parametrosensayosodu_velocidadminventiladorcalor INT DEFAULT '0' NOT NULL, parametrosensayosodu_presionminapagadocompresor INT DEFAULT '0' NOT NULL, parametrosensayosodu_deltatempminfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_deltatempmaxfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_corrientemaxfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_corrienteminfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_potenciaminfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_potenciamaxfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_velocidadminventiladorfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_velocidadmaxventiladorfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_presionminfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_presionmaxfrio INT DEFAULT '0' NOT NULL, parametrosensayosodu_presionmaxrecuperacion INT DEFAULT '0' NOT NULL, parametrosensayosodu_idversion INT UNSIGNED NOT NULL, es_activo INT DEFAULT '0' NOT NULL, INDEX parametrosensayosodu_idversion_idx (parametrosensayosodu_idversion), PRIMARY KEY(parametrosensayosodu_id)) ENGINE = INNODB;
CREATE TABLE reimpresiones (reimpresiones_id INT UNSIGNED AUTO_INCREMENT, reimpresiones_marca VARCHAR(20) NOT NULL, reimpresiones_modelo VARCHAR(30) NOT NULL, reimpresiones_codigo VARCHAR(30) NOT NULL, reimpresiones_serie VARCHAR(20) NOT NULL, reimpresiones_fecha DATETIME NOT NULL, reimpresiones_aprobado TINYINT NOT NULL, reimpresiones_observaciones VARCHAR(100) NOT NULL, reimpresiones_esidu TINYINT NOT NULL, PRIMARY KEY(reimpresiones_id)) ENGINE = INNODB;
CREATE TABLE serie (serie_id INT UNSIGNED AUTO_INCREMENT, serie_tipo CHAR(1) NOT NULL, serie_numero INT UNSIGNED NOT NULL, serie_maximo INT UNSIGNED NOT NULL, serie_minimo INT UNSIGNED NOT NULL, serie_prefijo VARCHAR(10), serie_sufijo INT UNSIGNED DEFAULT '0' NOT NULL, PRIMARY KEY(serie_id)) ENGINE = INNODB;
CREATE TABLE user_profile (id BIGINT AUTO_INCREMENT, sf_guard_user_id BIGINT, numero_legajo VARCHAR(255), phone VARCHAR(255), turno VARCHAR(255), puesto VARCHAR(255), linea VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX sf_guard_user_id_idx (sf_guard_user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE usuarios (usuarios_id INT UNSIGNED AUTO_INCREMENT, usuarios_password VARCHAR(20) DEFAULT '""' NOT NULL, usuarios_descripcion VARCHAR(45) NOT NULL, PRIMARY KEY(usuarios_id)) ENGINE = INNODB;
CREATE TABLE versiones (versiones_id INT UNSIGNED AUTO_INCREMENT, versiones_descripcion VARCHAR(100) DEFAULT '"' NOT NULL, PRIMARY KEY(versiones_id)) ENGINE = INNODB;
CREATE TABLE sf_guard_forgot_password (id BIGINT AUTO_INCREMENT, user_id BIGINT NOT NULL, unique_key VARCHAR(255), expires_at DATETIME NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_group (id BIGINT AUTO_INCREMENT, name VARCHAR(255), description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_group_permission (group_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(group_id, permission_id)) ENGINE = INNODB;
CREATE TABLE sf_guard_permission (id BIGINT AUTO_INCREMENT, name VARCHAR(255), description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_remember_key (id BIGINT AUTO_INCREMENT, user_id BIGINT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user (id BIGINT AUTO_INCREMENT, first_name VARCHAR(255), last_name VARCHAR(255), email_address VARCHAR(255), username VARCHAR(128) NOT NULL, algorithm VARCHAR(128) DEFAULT 'sprintf' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT DEFAULT '1', is_super_admin TINYINT DEFAULT '0', last_login DATETIME, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user_group (user_id BIGINT, group_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, group_id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user_permission (user_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, permission_id)) ENGINE = INNODB;
ALTER TABLE caracteristicastecnicasequipos ADD CONSTRAINT ccpp_1 FOREIGN KEY (caracteristicastecnicasequipos_idparametros_odu) REFERENCES parametrosensayosodu(parametrosensayosodu_id);
ALTER TABLE caracteristicastecnicasequipos ADD CONSTRAINT ccpp FOREIGN KEY (caracteristicastecnicasequipos_idparametros_idu) REFERENCES parametrosensayosidu(parametrosensayosidu_id);
ALTER TABLE ensayo_falla_controlada ADD CONSTRAINT ensayo_falla_controlada_usuario_id_sf_guard_user_id FOREIGN KEY (usuario_id) REFERENCES sf_guard_user(id);
ALTER TABLE ensayo_falla_controlada ADD CONSTRAINT ensayo_falla_controlada_falla_controlada_id_falla_controlada_id FOREIGN KEY (falla_controlada_id) REFERENCES falla_controlada(id);
ALTER TABLE modelos ADD CONSTRAINT mmcc FOREIGN KEY (modelos_referencia) REFERENCES caracteristicastecnicasequipos(caracteristicastecnicasequipos_nombre);
ALTER TABLE parametrosensayosidu ADD CONSTRAINT ppvv FOREIGN KEY (parametrosensayosidu_idversion) REFERENCES versiones(versiones_id);
ALTER TABLE parametrosensayosodu ADD CONSTRAINT ppvv_1 FOREIGN KEY (parametrosensayosodu_idversion) REFERENCES versiones(versiones_id);
ALTER TABLE user_profile ADD CONSTRAINT user_profile_sf_guard_user_id_sf_guard_user_id FOREIGN KEY (sf_guard_user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_forgot_password ADD CONSTRAINT sf_guard_forgot_password_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id);
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id);
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id);
ALTER TABLE sf_guard_remember_key ADD CONSTRAINT sf_guard_remember_key_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id);
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id);
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id);
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id);
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id);
CREATE TABLE ensayo (id INT AUTO_INCREMENT, nombre VARCHAR(128) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ensayoparametro (id INT AUTO_INCREMENT, tag VARCHAR(128) NOT NULL, paso INT NOT NULL, valor FLOAT(18, 2) NOT NULL, ensayoid INT, INDEX ensayoid_idx (ensayoid), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE etiqueta (id INT AUTO_INCREMENT, nombre VARCHAR(128) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE itemetiqueta (id INT AUTO_INCREMENT, font VARCHAR(128) NOT NULL, size INT NOT NULL, bold INT, italic INT, xini INT NOT NULL, xfin INT NOT NULL, yini INT NOT NULL, yfin INT NOT NULL, variable INT, tipo INT NOT NULL, rot INT NOT NULL, alignh INT NOT NULL, alignv INT NOT NULL, etiquetaid INT, valor VARCHAR(128) DEFAULT '' NOT NULL, INDEX etiquetaid_idx (etiquetaid), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE numeroserie (id INT AUTO_INCREMENT, tipo VARCHAR(1) NOT NULL, numero INT NOT NULL, maximo INT NOT NULL, minimo INT NOT NULL, prefijo VARCHAR(10) NOT NULL, sufijo INT NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE placa (id INT AUTO_INCREMENT, nombre VARCHAR(128) NOT NULL, codigo VARCHAR(128) NOT NULL, descripcion VARCHAR(128) NOT NULL, extra1 VARCHAR(128) NOT NULL, extra2 VARCHAR(128) NOT NULL, extra3 VARCHAR(128) NOT NULL, ensayoid INT DEFAULT '0' NOT NULL, etiquetaid INT DEFAULT '0' NOT NULL, versionid INT DEFAULT '0' NOT NULL, INDEX ensayoid_idx (ensayoid), INDEX etiquetaid_idx (etiquetaid), INDEX versionid_idx (versionid), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE resultadoensayo (id INT AUTO_INCREMENT, ensayook TINYINT UNSIGNED NOT NULL, error TEXT NOT NULL, tension5v FLOAT(18, 2) NOT NULL, tension12v FLOAT(18, 2) NOT NULL, tensioncorr FLOAT(18, 2) NOT NULL, velocidades TEXT NOT NULL, numeroserie VARCHAR(128) NOT NULL, fecha DATETIME, placaid INT, observaciones TEXT, dcf TEXT NOT NULL, paso INT NOT NULL, INDEX placaid_idx (placaid), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE version (id INT AUTO_INCREMENT, descripcion VARCHAR(128) NOT NULL, plc INT NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE ensayoparametro ADD CONSTRAINT ensayoparametro_ensayoid_ensayo_id FOREIGN KEY (ensayoid) REFERENCES ensayo(id);
ALTER TABLE itemetiqueta ADD CONSTRAINT itemetiqueta_etiquetaid_etiqueta_id FOREIGN KEY (etiquetaid) REFERENCES etiqueta(id);
ALTER TABLE placa ADD CONSTRAINT placa_versionid_version_id FOREIGN KEY (versionid) REFERENCES version(id);
ALTER TABLE placa ADD CONSTRAINT placa_etiquetaid_etiqueta_id FOREIGN KEY (etiquetaid) REFERENCES etiqueta(id);
ALTER TABLE placa ADD CONSTRAINT placa_ensayoid_ensayo_id FOREIGN KEY (ensayoid) REFERENCES ensayo(id);
ALTER TABLE resultadoensayo ADD CONSTRAINT resultadoensayo_placaid_placa_id FOREIGN KEY (placaid) REFERENCES placa(id);
